[1 TDDとは一体何か](1%20TDDとは一体何か.md)

[[]] →

---

## 1-1 TDD のメリットとデメリット

### メリット

- テストと実装が１対 1 になっている
- テストを通すための設計を行ってからコードを実装するため、神クラスのようなテストしにくいモジュールができにくい
- TDD を回す過程にリファクタリングがあり、コードを小さく改善していく機会が得られる
- 先にやることリストを作るので、チームに今何をやっているかを伝えやすい

### デメリット

- 難しい
	- 先にやることリストをリストアップして、テストから書いて、というワークフローがあまり直感的でない
	- 勘所をつかむ必要がある
- リファクタリングを定期的にしないと、コード全体があまりきれいにならない
	- TDD の過程で、複数のクラスに同じような処理のコードが重複したりする
- 具体的にどんな実装が必要なのかを調査しておかないと、そもそもテスト自体が作れない
- モックを用意したりなど、ただ実装するよりもテスト作成時のほうが考える視点が多く頭がパンクする
- 全体設計の方針が良くないと、大きな手戻りになりそう
	- 細かく単体テストを追加していたのに、結合テストを行う段階で設計がうまくいっていなかったことに気づく、、、など

## 1-2 TDD の用語について

### 三点測量

- 最初に用意しておいたテストに通る値とは別の値を用意して、より具体的な実装のイメージを膨らませること
- １つだけの正解の値よりも、２つの値を用意することで、実装の具体的なパターンが思い起こしやすい

### レッド・グリーン・リファクタリング

- レッド
	- まずは TODO リストの中から一つ選ぶ
	- その TODO の目標となる値を用意して、その値を満たす出力が行えるかどうかのテストを書く
	- 先にテストから書くので、失敗（RED）になる
- グリーン
	- 作成したテストを通す実装を作る
	- テストに通りさえすれば、どんな実装になっていてもいい
- リファクタリング
	- テストに通った後は、コードベースを見直してコード全体をきれいにする
	- 今までのテストがすべてグリーンになっていればＯＫ

### 仮実装

- TDD の過程で、テストを通すための実装を行う事
- 内部で計算がなく、return で値を出すだけの実装でも問題ない
- たとえハリボテであっても一歩前進である

## 1-3 BDD とはなんでしょうか

Behaivier Driven Development

ふるまい駆動開発と呼ばれる。

ＴＤＤのスタイルだと、ゴールまで時間がかかってしまうデメリットを改良するために発案された。
- Dan North さんが発案

細かいユニットテストを書いていくよりは、先に E2E での動作を決めて、その動作を満たすコードを書いていく
- 歩幅は大きめで良い
- Given-When-Then の形式でテストを記述する
- テストはユーザの振る舞い単位なので、仕様書としても第三者と共有しやすい