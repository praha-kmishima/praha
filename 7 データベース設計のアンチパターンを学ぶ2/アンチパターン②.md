# 課題 1

## 回答 1

- tag1Id と、tag2Id が UNIQUE かどうかチェックする必要がある
- タグ追加時に、NULL のカラムを探して更新する必要がある
- 4 つ目以降のタグを追加する場合、新しくカラムを追加するテーブル変更クエリを行う必要がある
- タグの集計を行う際、tag1,tag2,tag3 それぞれを検索条件に含めたクエリが必要になる

# 課題 2

## 回答 2

![](attachments/Pasted%20image%2020250413133923.png)
アンチパターン１　課題２ と同様の設計を行うことで、問題が解決できる。

### 新しい設計の改善点

- この中間テーブル（PostTags）を通じて、特定の Post に関連するタグの種類を容易に取得でき、検索や削除のクエリが簡素化される。
- PostTags テーブルの主キーを (post_id, tag_id) の複合キーとすることで、同一ポストに重複したタグを付与できない一意性制約を実現できる。
- Tags テーブルが独立することで、タグの名前変更や説明の追加など、タグ自体の管理も柔軟に行えるようになる。

# 課題 3

## 回答 3

会計システムにおいて、発注案件の管理テーブルを設計する際のアンチパターン例：

- 案件の契約管理テーブルに外注先情報を含めようとした場合に、「外注先会社 ID1〜9」「外注金額 1〜9」「外注工期 1〜9」といったカラムを用意し、一つのテーブルに全ての外注情報を格納しようとする設計を採用してしまう。