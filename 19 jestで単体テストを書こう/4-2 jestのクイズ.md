---
id: 20250118T01395057
aliases: 
tags: []
created: 2025-01-18T01:39:50
updated: 2025-01-18T01:39:50
sr-due: 2025-01-31
sr-interval: 9
sr-ease: 250
---
### クイズ

 `jest.mock()`と、`jest.fn()`はどちらも関数のモック化を行う関数ですが、どんな違いがあるでしょうか？

<details>
<summary>クリックして展開</summary>

jest.mock()とjest.fn()の主な違いは以下の通りです:

## jest.mock()

- モジュール全体をモック化するために使用します[4][6]。
- 外部ライブラリや複雑な依存関係を持つモジュールをテストする際に特に有用です[4]。
- 指定したモジュールのすべてのエクスポートをモック関数に置き換えます[4]。

例:
```javascript
jest.mock('./myModule');
```
この呼び出しにより、`./myModule`のすべてのエクスポートがモック関数に置き換えられます[4]。

## jest.fn()

- 最も基本的なモック関数を作成するために使用します[4]。
- 単一の関数をモック化する際に使用します[4]。
- 新しいモック関数を作成し、テスト中に呼び出された回数や引数を記録できます[3]。

例:
```javascript
const mockFunction = jest.fn();
```
この例では、`mockFunction`は呼び出されると自動的に呼び出し情報を記録します[4]。

## 主な違い

1. スコープ: jest.mock()はモジュール全体をモック化しますが、jest.fn()は単一の関数をモック化します[3][4]。

2. 使用場面: jest.mock()は外部依存関係や複雑なモジュールのテストに適していますが、jest.fn()はより柔軟で、単純な関数のモック化に適しています[3][4]。

3. 実装: jest.mock()はモジュールのインポートを置き換えますが、jest.fn()は新しいモック関数を作成します[6]。

4. 柔軟性: jest.fn()は個々の関数の振る舞いをより細かく制御できますが、jest.mock()はモジュール全体の振る舞いを一度に制御します[3][4]。

これらの違いを理解することで、テストシナリオに応じて適切なモック手法を選択できます。

</details>