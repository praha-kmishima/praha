# 課題 1

### check 制約を使う場面

時刻（0 時～23 時）や年齢（0 歳以上）など、条件が明確で、変更されることがまずない事柄

- 制約を組み込むことで、DDL 文からデータのイメージがつきやすくなる

### check 制約を使うべきでない場面

仕様変更などで制約が変更される可能性がある場合は CHECK 制約をつけてはいけない

- ALTER 文に対応していないので、後から制約を変更することができない
- メールアドレスなどは、アプリケーション側でバリデーションさせる

### Trigger を使う場面

データを別テーブルや別カラムに自動的に保存させる場面

- 挿入されたレコードの一部をログテーブルに移す
- データベースのリファクタリングで、古いカラムを削除して新しいカラムに差し替える場合
    - トリガーを使ってデータを新しいカラムに移す
    - データを移し終わったら、古いカラムを削除する

### Trigger を使うべきでない場面

基本的には使わないほうがよい、なぜなら：

- 定期的に変更できるものでもなく、保守が難しい
- 基本的にはアプリケーション側からでき、柔軟に対応が可能なため

### Domain を使う場面

- 郵便番号や電話番号など、仕様がまず変わらない概念で、複数のカラムに適用できる可能性がある場合

### Domain を使うべきでない場面

- CHECK 制約とほぼ同じ。簡単に変更はできないことを意識しておく。

# 課題 2

開発段階で、継続的なアップデートが続けて行われているシステムで陥る可能性がある。

データベース側のカラムに、固定的な ENUM 型や厳格な CHECK 制約を使用すると、将来の拡張性に問題が生じる可能性がある。