## 2025/1/7

### 議題

- slack のタブ機能で議事録や目標設定を行ってみた
- 他のメンバーは、質問したいことなどのボードを作っていた

## 2025/1/11

### 議題

 依存性注入
- [amazon](https://www.amazon.co.jp/%E3%81%AA%E3%81%9C%E4%BE%9D%E5%AD%98%E3%82%92%E6%B3%A8%E5%85%A5%E3%81%99%E3%82%8B%E3%81%AE%E3%81%8B-DI%E3%81%AE%E5%8E%9F%E7%90%86%E3%83%BB%E5%8E%9F%E5%89%87%E3%81%A8%E3%83%91%E3%82%BF%E3%83%BC%E3%83%B3-Compass-Books%E3%82%B7%E3%83%AA%E3%83%BC%E3%82%BA-Steven-Deursen/dp/4839983062?source=ps-sl-shoppingads-lpcontext&ref_=fplfs&ref_=fplfs&psc=1&smid=AN1VRQENFRJN5)
- テストが書きやすい　→　システムを変更・拡張しやすい設計なのではないか？
- DI が活きる場面：接続するデータベースを変えるときに便利
- DI の実装パターン
- コンストラクタ注入
- セッター注入
- インターフェース注入
- [Flutterで依存性の注入（DI）を実装する前提知識](https://zenn.dev/masarufuruya/articles/548d63b15fd073)
- DI がなんで必要なのか？
- [zenn.dev/hihats/articles/dependency\_injection\_is\_not\_a\_virtue)](https://zenn.dev/hihats/articles/dependency_injection_is_not_a_virtue)

type-challenges
- ↓東大生の記事
- [型パズルで学ぶTypeScriptの型│FORCIA CUBE│フォルシア株式会社](https://www.forcia.com/blog/002377.html)  

property-based-test
- 実際のライブラリについて、どんな仕組みなのか？
- コードを見て勝手にやってくれるのか？
- [fast-check を通して Property Based Testing について理解する](https://zenn.dev/cloud_ace/articles/b020c9969effa3)

## 2025/1/22

### 議題

- svelte のテストコードについて（store）
	- https://qiita.com/sho_U/items/8a508a75aeabed204648

- jest 本体のテストコードが案外シンプルだった
	- https://github.com/jestjs/jest/blob/main/examples/typescript/__tests__/calc.test.ts

- tsutomu さんの課題 5-1
	- jest のテストカバレッジを特定のフォルダ
	- https://zenn.dev/oreo2990/articles/ac4d4d7c82c4ff
	- フォルダを指定してカバレッジを確認する場合は、--collectCoverageFrom オプションを利用しました。
	- カバレッジを自動で行に色分け表示してくれる VSCode 拡張機能
- おすすめの AI
	- https://www.perplexity.ai/
	- web から文献を引っ張ってきて、答えを書いてくれる
	- 文章も読みやすい
- テストコードを読みやすくするための工夫
	- テストコードの中に、いろんな関数があって、案外読むのにコストがかかる
	- mock とか import した変数が急に出てきたりする
- テストコードは 99% 自動生成させること
	- [Storybookを導入する際にやるべきこと3選](https://zenn.dev/sum0/articles/9463d16d9d40e2#storybook%E3%81%AF99%25%E8%87%AA%E5%8B%95%E7%94%9F%E6%88%90%E3%81%95%E3%81%9B%E3%82%8B%E3%81%93%E3%81%A8)
	- [自動生成の話をしよう 〜 ProtoBuf, Cue, 1次ソースの美学 〜 - Speaker Deck](https://speakerdeck.com/karamaru/zi-dong-sheng-cheng-nohua-wosiyou-protobuf-cue-1ci-sosunomei-xue)

- スキーマ駆動開発（Open API）
	- storybook 駆動開発

- DOM 構造のテスト
	- フォームの中のボタンを押したときにちゃんと submit されるか
	- モーダルウィンドウの要素がちゃんと visible になるか
	    - ここらへん、bootstrap とか、要素がパッケージされたライブラリを使っていると知識が足りなく感じる（三島）

- [フロントエンド 自動テスト 始めました - Qiita](https://qiita.com/kobayashimakoto/items/5b9d7214c48be67283e3)
- [OpenAPI Generator を使った Schema駆動開発](https://zenn.dev/team_soda/articles/b749228a360454)

## 2025/01/29

**三島が気になったこと**
* テストの書き方
    * テストを読みやすくするには（コメントいっぱい入れたりしてもよい）？
    * HTML の aria とか id 属性の意味とは？
        * テストが書きやすくなる以外にあるか？
            * 要素を特定しやすくなる
    * 自動テストを運用できているプロジェクトって、誰がテストの面倒を見ているんだろう
    * テストを運用するために必要な知識ってなんだろう
        * 各コード間の依存関係を把握できる全体観を管理できる人
        * 自動的にテストを走らせる仕組みの構築方法を知っている（CICD）
            * 自動テストが通らない場合にキャッチアップできる環境
            * 自動テストの実行時間を短縮化できる技術者がいる
        * 定期的にテストカバレッジなどをもとに振り返りを行う
        * 必要なテスト、不必要なテスト（余分な E2E テストを書かないなど）の基準が明文化されており、チーム内で意思疎通できている

* **E2E テストでしかできないこと**
    * playwright はなんでもできる
    * cypress って E2E テスト用パッケージもあるっぽい

* **ビジュアルリグレッションテスト、storybook は必要？**
    * jest と playwright で十分だったりしないか？
    * ビジュアルリグレッションテストは何を目的として使う？
        * あって助かる事 ＜ 運用コスト になってしまう場合もあるのではないか　
            * React, Tailwind CSS などのバージョンアップでレイアウトが崩れていないか？
            * ブラウザによって表示が変わってしまわないか？
    * storybook コンポーネントのテストがしやすくなる？

**react の環境構築について**
* vite がよい
* create react app を使ったりしていたら、storybook でエラーになった

**storybook のディレクトリ運用について**
* styles.css に全コンポーネントの css を書くか？
* 各コンポーネント単位で css を書くか？

**参考サイトなど**
* Web DX criteria
    * Web 開発の指標一覧
    * Node.js の偉い人（古川さん）？が立ち上げて作られている
    * 良い開発チームの基準が書かれており参考になる
    * https://dxcriteria.cto-a.org/9fcf6d17f3624849bac91d0218d8ece3
- vite で react アプリ作成
	- https://note.com/memoler/n/nd388659e3adf

## 2025/02/09

**課題 1-7-2 について**
- 例題のコードはデメテルの法則には違反していなさそう。
- では、「保守性に対して効果がない」のだろうか？

**案①：単一責任原則に違反する恐れがある**
* 例えば、Purchase クラスに、購入 () の処理や、集計 () の処理を追加したら・・・
* ユーザ ID や商品ＩＤの詰め替えもできるし、購入処理もできる、など 複数の責務が発生する
* これは単一責任原則に違反してしまい、神クラスになってしまいそう（保守性も下がりそう）

**対案①：では、実務上でこういった getter, setter を持つクラスはどう扱われるのか？**
* 基本的にはＤＡＯとアクセスするために使われる、他のメソッドは生やさない
* この場合、単一責任原則には違反しない（保守性に問題が出るわけではない）

[DTOデザインパターンについて - Qiita](https://qiita.com/TK_Yudai/items/aef457c10e9e5c38e771)

**案②：サービス層に購入サービスや検索サービスがある場合、どうなるか？**
* 各サービスでで Purchase のゲッター、セッターは自由に使われる
    * if 文で特定の商品 id だったら、別の処理が走る、など
    * こういったサービス層はテストがしづらいのではないか？
        * （内部に Purchase が埋め込まれているので、モックを注入しづらい）

**結論 (何を調べてみるとよいのか)**
・getter, setter がどんな背景で使われるようになったのか？
・アンチパターン的な用例がないか？
・逆に、どんな場合であれば getter, setter クラスは保守性に影響を与えないのか

## 250212

メンター質問

* E2E 課題　テストをどのように書いたらいいか？　
* https://excalidraw.com/#room=360c9ee12d7e439e000c,QnJWtyLKxfOUMqWzFMPm1Q

## 2025/02/22

**設計原則　課題 2**
* 実務で似た処理を取り扱った
    * アプリ側で全件取得して、そこからバリデーションを行う処理を行った
    * 全件取得データが数万、数十万単位なので、メモリリークになってしまった（開発段階では考慮していなかった）
        * 対応：キャッシュをフレームワークでとれるか
            * redis（C#フレームワークで使う　キャッシュ用 DB）
            * 最新データを常に取得する、全データ取得の必要は残るので、キャッシュをとっても結局負荷がかかる
            * [Redisとは \| クラウド・データセンター用語集／IDCフロンティア](https://www.idcf.jp/words/redis.html#:~:text=Redis%EF%BC%88%E3%83%AC%E3%83%87%E3%82%A3%E3%82%B9%EF%BC%8F%E3%83%AC%E3%83%87%E3%82%A3%E3%83%BC%E3%82%B9%E3%80%81Remote,%E3%82%A2%E3%82%AF%E3%82%BB%E3%82%B9%E3%82%92%E5%AE%9F%E7%8F%BE%E3%81%97%E3%81%BE%E3%81%99%E3%80%82)

**SOLID 課題 3 の方針**
* private と readonly の違いについて

**メンターセッション振り返り**
* プラハメンバーの人が、各個人で自分の結論をチャットに残していた。
    * これは普段の業務でやっている？
    * それとも、メンターセッション用？
    * こんどメンターセッションがあれば聞いてみてもいいかも
* 設計の知識があるかどうかで、課題の見え方が変わるかも
    * DB でもテーブルの捉え方が変わったりしたように思えた
* 型制約の話
    * ruby を触っていたので、型制約がコンパイラがやってくれるのは良い
    * 型があるせいで、シンプルにできてほしいことが複雑になってしまったりもある？かも？

## 2025/03/01

**特大課題の作り方が人によって変わりそう**
* ドメインモデルの集約の範囲をどうとらえるか
* プラハ課題だと、意外と解法はパターン化されているかもしれない
* 大規模プロジェクトだと、DDD チックに実装するときはどんなやり方で進めている？

**図があると議論が進みやすい**
* DDD やオニオンアーキテクチャなど、専門用語が多いものでも、図があると話がすすみやすい

**いかに本質をとらえるか**
* 学んだこと、課題で問われていることを自分の言葉でアウトプットすることは大変で時間がかかる
* どうやったら、その時間のかかる工程のサイクルを短くできるのか？
    * AI？
    * 調べものをして概念を学び、抽象化する
    * 議論する

## 2025/03/15

**DDD 基礎 ドメインサービス**
* ドメインサービスってなんなんだろう

**DDD 基礎の内容をどういう風に特大課題に落とし込むか**
* エンティティ、値オブジェクト、リポジトリ層を今回の仕様でどう反映するか

**DDD の難しいこと**
* ドメインイベント
* CQRS

**メンター質問のしかた**
* エンティティと値オブジェクト
* 肥大化したプロジェクトと DDD について
    * 特大課題のようなエンティティ３つでも、かなりコードボリュームがある
    * 実際にサービスリリースするまで、かなり時間がかかるのでは
* ユースケースのテストをどう書くか
    * ユースケースのチェック：例えば、「新しくチームを登録する」
        * 正常テスト：モックリポジトリを介して、ユースケースが最後まで動いているか
        * 異常テスト：エラーハンドリングされるか（エラーの判定は、ドメイン層が行う）

## 2025/03/22

**Unit of work パターンの紹介**
* Laravel にも似た実装ができるメソッドが提供されていた
* [GoによるRepositoryパターンとUnit of Workを組み合わせたトランザクション処理](https://zenn.dev/hacobell_dev/articles/0ae114500cf974)

**MVC モデルと DDD の違いについて**
* M: ドメインオブジェクト
* 各モデルに save メソッドがついている

**整合性の担保の仕方**
* 強い整合性
    * アプリケーション層ユースケースの 1 トランザクション内に複数エンティティを呼び出したり生成・保存の処理を行う
* 結果整合性
    * イベントを監視するサービスを立ち上げて、イベントに応じてエンティティの保存・更新などを行う
    * RabitMQ というフレームワークを使っていて、これと近いことをしている
        * オフショアの人が提案して導入された

**スケーリングの意識配分**
* 強い整合性での実装だと、サーバ PC の性能を上げないと負荷を下げれない
* 結果整合性を用いていれば、サーバの数を増やせば負荷を下げられる
    * ただし、実装が難しい
    * フレームワークに依存したイベント駆動は、依存先のフレームワークが持続的にアップデートされるか？が怖い

**PoEAA**
* エンタープライズアプリケーションアーキテクチャパターン:
* https://bliki-ja.github.io/pofeaa/
* [Amazon.co.jp: エンタープライズアプリケーションアーキテクチャパターン: 頑強なシステムを実現するためのレイヤ化アプローチ : マーチン ファウラー, テクノロジックアート: 本](https://www.amazon.co.jp/%E3%82%A8%E3%83%B3%E3%82%BF%E3%83%BC%E3%83%97%E3%83%A9%E3%82%A4%E3%82%BA-%E3%82%A2%E3%83%97%E3%83%AA%E3%82%B1%E3%83%BC%E3%82%B7%E3%83%A7%E3%83%B3%E3%82%A2%E3%83%BC%E3%82%AD%E3%83%86%E3%82%AF%E3%83%81%E3%83%A3%E3%83%91%E3%82%BF%E3%83%BC%E3%83%B3-Object-Oriented-SELECTION/dp/4798105538)
* 今でも聞く実装パターンが多く、風化していないんだな、と思った

**生成 AI**
* Cline
    * タスクを与えられたら、権限の範囲内で AI が関連ファイルを読み込んだり、実行したりして、コードを自動生成してくれる
    * VSCode の拡張機能
* Model Context Protocol
    * 生成 AI（Claude）が、タスク実行中に分からないことがあったときの問い合わせを行うための通信規格
    * ユーザはローカルで MCP サーバを立てる
    * 生成 AI は、MCP サーバに質問を投げて、解答をもらう
    * この解答を参考にしてタスクを完了させる

## 2025/04/12

**何をもってリファクタリングできたとみなすか**
* リファクタリングしたくなるコードって大体コードが汚くて臨界点を迎えている
* 自動テストがない
* コメントが形骸化してるとか
* `_old` がついてる関数が生きてたりとか

**別タブで開いてほしい要望**
* 全てのページ遷移は別タブで開いてほしいという要望が昔あった
* どこまで要求を受け入れるべきか



